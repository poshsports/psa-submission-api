:root { --fg:#111; --sub:#64748b; --bd:#eee; --ok:#16a34a; --err:#b91c1c; --muted:#94a3b8; }
* { box-sizing: border-box; }
body{margin:0;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--fg);background:#fafafa}
header{display:flex;justify-content:space-between;align-items:center;padding:18px 20px;border-bottom:1px solid var(--bd);background:#fff;position:sticky;top:0;z-index:10}
h1{margin:0;font-size:20px}
h2{margin:0 0 8px}
h3{margin:0}
.note{color:var(--sub)}
main{padding:20px}
.card{max-width:1000px;margin:20px auto;padding:24px;border:1px solid var(--bd);border-radius:12px;background:#fff}
.narrow{max-width:560px}
label{display:block;margin:8px 0 6px}
input{padding:10px;border:1px solid var(--bd);border-radius:8px;background:#fff}
input[type="text"], input[placeholder], input:not([type]){width:100%}
button{padding:10px 14px;border:1px solid var(--bd);border-radius:8px;background:#fff;cursor:pointer}
button.ghost{background:#fff;border-color:#e5e7eb;color:#111}
button.danger{border-color:#fee2e2;color:#991b1b}
.err{color:var(--err);margin-top:8px}
.ok{color:var(--ok)}
.hide{display:none}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.row.between{justify-content:space-between}
.controls{display:flex;gap:8px;align-items:center}
.pill{padding:4px 8px;border:1px solid #e5e7eb;border-radius:999px;font-size:12px;color:#64748b}

/* Table */
.table-wrap{width:100%;overflow-x:auto;border:1px solid #f1f5f9;border-radius:10px;background:#fff}
table{width:100%;border-collapse:collapse;table-layout:auto;min-width:1100px;background:#fff}
th,td{
  padding:10px 12px;border-bottom:1px solid #f1f5f9;white-space:nowrap;vertical-align:middle;background:#fff
}
thead th{
  background:#fafafa;border-bottom:1px solid #e5e7eb;font-weight:600;position:sticky;top:0;z-index:1
}
th.sortable{cursor:pointer; user-select:none}
th .caret{display:inline-block;margin-left:6px;font-size:11px;color:var(--muted);width:10px;text-align:center}
td.right{text-align:right}
code{background:#f6f8fa;padding:2px 6px;border-radius:6px}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.18);display:flex;align-items:flex-start;justify-content:center;padding:10vh 16px}
.modal-panel{width:680px;max-width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px}
.cols-list{display:grid;grid-template-columns:repeat(2,minmax(200px,1fr));gap:8px}
.cols-list label{display:flex;gap:8px;align-items:center;padding:6px 8px;border:1px solid #f1f5f9;border-radius:8px;background:#fafafa}

/* Ensure hidden modals actually hide, even though .modal sets display:flex */
.modal.hide { display: none !important; }

/* Make the modal sit above sticky headers */
.modal { z-index: 2000; }
.modal-panel { position: relative; z-index: 2001; }

/* keep hiding working even though .modal uses flex */
.modal.hide { display: none !important; }

/* === PSA Admin shell (Shopify-like) === */
.hide { display: none !important; }
.muted { color: #9aa5b1; font-size: 12px; }

/* Login */
.psa-login { max-width: 380px; margin: 18vh auto; padding: 24px; background:#0f1117; color:#e5e7eb; border-radius:12px; border:1px solid #1a1f2a; }
.psa-login h1 { margin:0 0 8px; font-size:22px; }
.login-row { display:flex; gap:8px; margin-top:12px; }
.login-row input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid #1a1f2a; background:#0b0f16; color:#e5e7eb; }

.btn { padding:8px 12px; border:1px solid #1a1f2a; background:#0e1320; border-radius:10px; color:#e5e7eb; }
.btn.primary { background:#1f2937; }
.error { color:#f97316; padding:8px 0; }

/* Shell */
.admin-shell{display:grid;grid-template-columns:240px 1fr;height:100vh;overflow:hidden;background:#0b0d12;color:#e5e7eb;}
.admin-sidebar{background:#0b0f16;border-right:1px solid #1a1f2a;padding:16px;display:flex;flex-direction:column;gap:6px}
.sidebar-title{font-weight:700;margin:6px 0 10px 6px;font-size:15px;color:#cbd5e1}
.sidebar-item{padding:8px 10px;border-radius:8px;color:#cbd5e1}
.sidebar-item.active{background:#111827;color:#fff;font-weight:600}
.sidebar-spacer{flex:1}

/* Top bar */
.admin-main{display:flex;flex-direction:column;overflow:hidden}
.topbar{height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 16px;border-bottom:1px solid #1a1f2a;background:#0f1117;position:sticky;top:0;z-index:10}
.brand{display:flex;gap:10px;align-items:center;font-weight:700}
.brand .dot{width:10px;height:10px;border-radius:50%;background:#22d3ee;box-shadow:0 0 10px #22d3ee}
.top-actions{display:flex;gap:8px;align-items:center}

/* Views bar + toolbar */
.views-bar{display:flex;align-items:center;gap:8px;padding:10px 16px;border-bottom:1px solid #1a1f2a;background:#0f1117}
.view-pill{padding:6px 10px;border-radius:999px;border:1px solid #1a1f2a;color:#cbd5e1;background:#0b0f16}
.view-pill.active{background:#111827;color:#fff;border-color:#263043}
.view-plus{padding:6px 10px;border-radius:999px;border:1px dashed #344055;color:#9aa5b1;background:transparent}

.toolbar{display:flex;gap:10px;align-items:center;padding:10px 16px;border-bottom:1px solid #1a1f2a;background:#0b0d12}
.toolbar input[type="search"]{min-width:320px;padding:8px 10px;border:1px solid #1a1f2a;border-radius:10px;background:#0b0f16;color:#e5e7eb}
.toolbar .spacer{flex:1}
.count-pill{padding:4px 8px;border-radius:999px;background:#0f1117;border:1px solid #1a1f2a;font-size:12px;color:#9aa5b1}

/* Table */
.table-wrap{flex:1;overflow:hidden;background:#0b0d12}
.table-scroller{height:100%;overflow:auto;border-top:1px solid #1a1f2a}
.table{border-collapse:separate;border-spacing:0;min-width:1200px;width:100%}
.table th,.table td{padding:8px 10px;border-bottom:1px solid #1a1f2a;white-space:nowrap}
.table th{position:sticky;top:0;background:#0f1117;border-bottom:1px solid #1a1f2a;z-index:1}
.table tr:hover td{background:#0c111b}
.table th .caret{margin-left:6px;opacity:.7}
.table td.right{text-align:right}
.table code{background:#141a24;padding:3px 6px;border-radius:6px}

/* Empty */
.empty{padding:18px;color:#9aa5b1}

/* Pagination */
.pagination{display:flex;align-items:center;justify-content:flex-end;gap:10px;padding:10px 16px;border-top:1px solid #1a1f2a;background:#0f1117}
.page-btn{padding:6px 10px;border:1px solid #1a1f2a;border-radius:8px;background:#0e1320;color:#e5e7eb}
.page-btn[disabled]{opacity:.4;cursor:not-allowed}
.page-range{color:#9aa5b1;margin-right:6px}

/* Columns panel */
.columns-panel-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;align-items:flex-start;justify-content:flex-end;z-index:50}
.columns-panel{width:360px;background:#0f1117;border-left:1px solid #1a1f2a;height:100vh;display:flex;flex-direction:column}
.columns-head{padding:14px 16px;border-bottom:1px solid #1a1f2a;display:flex;justify-content:space-between;align-items:center}
.columns-body{padding:10px 12px;overflow:auto}
.columns-item{display:flex;align-items:center;gap:10px;padding:8px;border:1px solid #1a1f2a;border-radius:10px;background:#0b0f16;margin-bottom:8px}
.drag-handle{cursor:grab;user-select:none}
.columns-foot{padding:12px 16px;border-top:1px solid #1a1f2a;display:flex;gap:8px;justify-content:flex-end}
